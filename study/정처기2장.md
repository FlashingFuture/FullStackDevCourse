# 데이터 입 / 출력 구현

## 데이터베이스 개요

데이터베이스: 공동으로 사용될 데이터를 중복을 배제하여 통합하고 저장장치에 저장하여 항상 사용할 수 있도록 운영하는 운영 데이터

### DBMS(DataBase Management System)

DBMS: 사용자의 요구에 따라 정보를 생성해주고 데이터베이스를 관리하는 소프트웨어

- DBMS의 필수 기능: 정의(Definition), 조작(Manipulation), 제어(Control)

### 스키마(Schema)

스키마: 데이터베이스의 구조와 제약조건에 대한 명세를 기술한 것

- 외부 스키마: 사용자나 응용 프로그래마가 필요로 하는 데이터베이스의 논리적 구조를 정의한 것
- 개념 스키마: 데이터베이스 전체의 논리적 구조로, 모든 사용자들이 필요로 하는 데이터를 종합한 데이터베이스
- 내부 스키마: 물리적 저장장치의 입장에서 본 데이터베이스의 구조로 내부 레코드의 물리적 순서, 저장 형식, 저장 데이터의 표현 방법 등

## 데이터베이스 설계

### 데이터베이스 설계 고려사항

- 무결성: 연산 후에도 데이터베이스의 데이터는 정해진 제약 조건을 항상 만족해야 함
- 일관성: 데이터베이스의 데이터에 대한 특정 질의에 대한 응답은 처음부터 끝까지 변함없이 일정해야 함
- 회복: 시스템 장애 발생 시 장애 발생 직전의 상태로 복구할 수 있어야 함
- 보안: 데이터의 불법적 노출, 변경, 손실로부터 보호할 수 있어야 함
- 효율성: 응답시간의 단축, 시스템의 생산성, 저장공간 최적화 등이 가능해야 함
- 데이터베이스 확장: 데이터베이스 운영에 영향을 주지 않으면서 지속적으로 데이터를 추가할 수 있어야 함

### 데이터베이스 설계 순서

- 요구 조건 분석: 요구조건 명세서 작성
  - 데이터베이스의 용도 파악
- 개념적 설계: 개념 스키마, 트랜잭션 모델링, E-R 모델링
  - 현실 세계에 대한 인식을 추상적 개념으로 표현
- 논리적 설계: DBMS에 맞는 논리 스키마 설계, 트랜잭션 인터페이스 설계
  - 현실의 자료를 DBMS가 지원하는 논리적 자료 구조로 매핑
- 물리적 설계: DBMS에 맞는 물리적 구조의 데이터로 변환
  - 논리적 구조로 표현된 데이터를 물리적 구조의 데이터로 변환하는 과정
- 구현: DDL로 데이터베이스 생성, 트랜잭션 작성

## 데이터 모델

데이터 모델: 현실 세계의 정보들을 체계적으로 표현한 개념적 모형

### 데이터 모델에 표시할 요소

- 구조: 논리적으로 표현된 개체 타입들 간의 관계로써 데이터 구조 및 정적 성질 표현
- 연산: 데이터베이스에 저장된 실제 데이터를 처리하는 작업에 대한 명세로써 데이터베이스를 조작하는 기본 도구
- 제약 조건: 데이터베이스에 저장될 수 있는 실제 데이터의 논리적인 제약 조건

### 데이터 모델의 구성요소

#### 개체(Entity)

개체: 데이터베이스에 표현하려는 것으로 개념이나 정보 단위와 같은 현실 세계의 대상체

#### 속성(Attribute)

속성: 데이터베이스를 구성하는 가장 작은 논리적 단위로, 파일 구조에서의 데이터 필드에 해당

- 기본 속성, 설계 속성(업무에는 존재하지 않으나 설계 과정에서 도출), 파생 속성(다른 속성의 영향을 받아 발생)으로 분류

#### 관계(Relationship)

관계: 개체와 개체 사이의 논리적인 연결

- 종속 관계, 중복 관계, 재귀 관계, 배타 관계 등이 존재

## E-R(개체-관계) 모델

E-R 모델: 피터 첸에 의해 제안된 개념적 데이터 모델

| 기호             | 기호 이름                           | 의미 설명                                     |
| ---------------- | ----------------------------------- | --------------------------------------------- |
| ▭                | 엔터티(Entity)                      | 독립적인 객체나 개체, 예: 학생, 강의 등       |
| ◇                | 관계(Relationship)                  | 엔터티 간의 관계를 나타냄, 예: 수강함         |
| ○                | 속성(Attribute)                     | 엔터티나 관계의 특성, 예: 이름, 학번          |
| ⃝ (밑줄)         | 기본 키 속성(Key Attribute)         | 엔터티를 유일하게 식별하는 속성, 밑줄로 표시  |
| ◯ (이중 원)      | 다중 값 속성(Multivalued Attribute) | 하나 이상의 값을 가질 수 있는 속성, 이중 원   |
| 선 (1:1, 1:N 등) | 카디널리티(Cardinality)             | 관계에 참여하는 엔터티의 수(1:1, 1:N, N:M 등) |

## 관계형 데이터베이스의 구조

관계형 데이터베이스: 2차원 표를 이용해 데이터 상호 관계를 정의하는 데이터베이스

### 릴레이션(Relation)

- 관계형 데이터베이스에서 **데이터를 저장하는 테이블 구조**
- 하나의 릴레이션 = 하나의 테이블
- 각 릴레이션은 **속성(열)**과 **튜플(행)**로 구성됨

### 속성(Attribute)

- 테이블의 **열(column)** 하나하나를 의미
- 예: 학생 테이블에서 '이름', '학번', '학년' 등이 속성

### 튜플(Tuple)

- 테이블의 **행(row)** 하나
- 하나의 개체(엔터티) 정보를 구성하는 데이터 묶음
- 예: 한 명의 학생 정보 = 하나의 튜플

### 도메인(Domain)

- 하나의 속성이 가질 수 있는 **값의 범위나 타입**
- 예: '학년' 속성의 도메인은 {1, 2, 3, 4}, '이름'은 문자열 등

![alt text](image.png)

### 제약조건 - 키

- 후보키: 속성들 중 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합
- 기본키: 후보키 중 특별하게 선정된 주(Main) 키
- 대체키: 기본키를 제외한 나머지 후보키
- 슈퍼키: 속성들의 집합으로 구성된 키로, 유일성은 만족하지만 최소성을 만족하지 못함
- 외래키: 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합

### 제약조건 - 무결성

무결성: 데이터베이스에 저장된 데이터 값과 현실 세계의 실제값이 일치하는 정확성

- 개체 무결성: NULL 값이나 중복값을 가질 수 없음
- 참조 무결성: 외래키 값은 NULL이거나 참조 릴레이션의 기본키 값과 동일
- 도메인 무결성: 정의된 도메인에 속한 값만을 속성 값으로 가질 수 있음
- 그 외 사용자 정의 무결성, NULL 무결성, 고유 무결성, 키 무결성, 관계 무결성 등

## 관계대수와 관계해석

관계대수: 원하는 정보와 그 정보를 검색하기 위해 어떻게 유도하는지를 기술하는 절차적 언어

### 순수 관계 연산자

| 기호 | 연산자 이름      | 기능 설명                                       |
| ---- | ---------------- | ----------------------------------------------- |
| σ    | 선택(Selection)  | 조건을 만족하는 튜플(행)을 반환 (행 필터링)     |
| π    | 투영(Projection) | 지정한 속성(열)만 추출 (열 선택)                |
| ⨝    | 조인(Join)       | 두 릴레이션을 조건에 따라 결합                  |
| ÷    | 나누기(Division) | 특정 조건을 만족하는 튜플 추출 (부분 집합 관계) |

### 일반 집합 연산자

| 기호 | 연산자 이름                        | 기능 설명                                       |
| ---- | ---------------------------------- | ----------------------------------------------- |
| ∪    | 합집합(Union)                      | 두 릴레이션의 모든 튜플을 중복 없이 합침        |
| ∩    | 교집합(Intersection)               | 두 릴레이션 모두에 존재하는 튜플만 반환         |
| −    | 차집합(Difference)                 | 첫 릴레이션에는 있고 두 번째에는 없는 튜플 반환 |
| ×    | 카티션 프로덕트(Cartesian Product) | 두 릴레이션의 모든 조합을 반환                  |

### 관계해석

관계해석: 관계 데이터의 연산을 표현하는 방법

## 이상 / 함수적 종속

### 이상

이상(Anomaly): 테이블에서 데이터의 중복이 발생하여 문제가 발생하는 현상

- 삽입 이상, 삭제 이상, 갱신 이상

### 함수적 종속

함수적 종속: 같은 테이블의 속성 X의 값에 대해 속성 Y의 값이 오직 하나만 연관되어 있을 때 Y는 X에 함수적 종속(X -> Y)로 표현

## 정규화

정규화: 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용해 테이블을 무손실 분해(정보 손실이 없음)하는 과정

### 정규화 과정

#### 제1정규형

제1정규형: 테이블의 모든 도메인이 원자 값만으로된, 즉 하나의 속성에 하나의 값만이 들어가도록 하는 정규화 과정

#### 제2정규형

제2정규형: 테이블이 제1정규형을 만족하면서 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하는 정규형

#### 제3정규형

제3정규형: 테이블이 제2정규형을 만족하면서 기본키가 아닌 모든 속성이 기본키에 대해 이행적 함수적 종속을 만족하지 않는 정규형

## 반정규화

반정규화(비정규화): 시스템 성능 향상, 편의성 증대 등을 위해 정규화된 데이터 모델을 의도적으로 통합, 중복, 분리하여 정규화 원칙을 위배하는 행위

- 테이블 통합, 테이블 분할, 중복 테이블 추가, 중복 속성 추가 등

## 트랜잭션 분석 / CRUD 분석

트랜잭션: 논리적 기능을 수행하기 위한 작업의 단위 또는 수행되어야 할 일련의 연산

### 트랜잭션의 특성

- 원자성: 트랜잭션의 연산은 모두 반영되도록 완료(Commit)되던지 하나도 반영되지 않도록 복구(Rollback)되던지 해야 함
- 일관성: 트랜잭션의 실행이 완료되면 언제나 일관성 있는 데이터베이스 상태로 변환해야 함
- 독립성(Isolation): 하나의 트랜잭션이 실행되는 중 다른 트랜잭션의 연산이 끼어들 수 없음
- 영속성(Durability): 완료된 트랜잭션의 결과는 영구적으로 반영되어야 함

### CRUD 분석

CRUND 분석: 프로세스와 테이블 간 CRUD 매트릭스를 만들어 트랜잭션을 분석하는 것

## 인덱스

인덱스: 데이터 레코드를 빠르게 접근하기 위해 <키 값, 포인터> 쌍으로 구성되는 데이터 구조

- 트리 기반, 비트맵, 함수 기반, 비트맵 조인, 도메인 인덱스 존재
- 인덱스 키의 순서에 따라 데이터가 정렬되는 클러스티드 인덱스와, 실제 데이터는 정렬되지 않는 넌클러스티드 인덱스 존재

## 뷰

뷰(View): 정보 제한을 목적으로 하나 이상의 기본 테이블에서 유도된 가상 테이블

- 논리적 데이터 독립성을 제공하고 접근 제어를 통한 자동 보안이 제공되지만, 독립적인 인덱스를 가질 수 없으며 삽입 / 삭제 / 갱신 연산에 제약이 따름

## 파티션

파티션: 대용량의 테이블이나 인덱스를 작은 논리적 단위인 파티션으로 나누는 것

- 범위 분할: 지정한 열의 값을 기준으로 분할
- 해시 분할: 해시 함수 적용 결과값에 따라 데이터를 분할
- 조합 분할: 범위 분할 이후 해시 함수 적용을 통해 다시 분할

## 데이터베이스 이중화

데이터베이스 이중화: 동일한 데이터베이스를 복제하여 관리하는 것

## 데이터베이스 보안

데이터베이스 보안: 데이터베이스의 일부 또는 전체에 대해 권한이 없는 사용자가 액세스하는 것을 금지하기 위해 사용되는 기술

### 암호화

암호화: 개인 키 / 공개 키 암호 방식을 통해 암호화 및 복호화 진행

### 접근통제

접근통제: 데이터가 저장된 객체와 이를 사용하려는 주체 사이의 정보 흐름을 제한

- 접근통제 3요소: 접근통제 정책, 접근통체 매커니즘, 접근통제 보안모델
- 데이터 소유자가 접근통제 권한을 가지는 임의 접근통제(Discretionary Access Control), 시스템이 접근통제 권한을 지정하는 강제 접근통제(Mandatory Access Control), 중앙 관리자가 권한을 지정하는 역할기반 접근통제(Roll Based Access Control)로 나뉨
- 접근통제 정책: 신분 기반 정책, 규칙 기반 정책, 역할 기반 정책 등
- 접근통제 보안 모델: 기밀성 모델, 무결서 모델, 접근통제 모델 등

## 데이터베이스 백업

### 로그

로그: 데이터베이스의 상태 변화를 시간의 흐름에 따라 모두 기록한 파일

- 로그를 기반으로 데이터베이스를 과거 상태로 UNDO / 가장 최근의 정상 상태로 REDO 를 통해 데이터베이스 상태를 일관성 있게 유지할 수 있음

## 스토리지

스토리지: 대용량의 데이터를 저장하기 위해 서버와 저장장치를 연결하는 기술

### DAS

DAS(Direct Attached Storage): 서버와 저장장치를 케이블로 연결하는 방식

- 구축 비용, 유지보수 비용이 저렴하나 확장성 및 유연성이 떨어짐

### NAS

NAS(Network Attached Storage): 서버와 저장장치를 네트워크를 통해 연결하는 방식

### SAN

SAN(Storage Area Network): 서버와 저장장치를 연결하는 전용 네트워크를 별도로 구성하는 방식으로, 확장성, 유연성, 가용성이 뛰어남

## 트리 용어 정리

노드: 트리의 기본 요소로서 자료 항목과 다른 항목에 대한 가지를 합친 것

- 차수(Degree): 각 노드에서 뻗어나온 가지의 수
- 단말 노드(Terminal Node) = 잎 노드(Leaf Node): 자식이 하나도 없는, 디그리가 0인 노드
- 조상 노드: 임의의 노드에서 근(Root) 노드에 이르는 경로상에 있는 노드들
- 레벨: 근 노드의 레벨을 1로 두고, 자식 노드로 내려갈 때마다 1씩 증가
- 깊이: 트리에서 노드가 가질 수 ㅣㅇㅆ는 최대의 레벨

## 정렬

- 선택 정렬: 최솟값을 찾아 맨 앞에 두고, 그 뒤부터 그 과정을 재귀적으로 반복, O(N^2)
- 버블 정렬: 인접한 두 개의 레코드를 비교하며 크기에 따라 교환하는 과정을 반복, O(N^2)
- 쉘 정렬: 매개변수의 값으로 서브파일을 구성하고 각 서브파일을 삽입 정렬 방식으로 순서를 배열, 평균 O(nlogn)
- 퀵 정렬: 키를 기준으로 작은 값은 왼쪽으로, 큰 값은 오른쪽 서브 파일에 분해하는 과정을 반복, 평균 O(nlogn)
- 힙 정렬: Heap 자료구조를 사용하여 정렬, 평균, 최악 모두 O(nlogn)
- 2-Way 합병 정렬(Merge 정렬): 파일을 분할하여 최소 단위가 될 때까지 나누고, 이후 한 개의 파일로 합치면서 정렬, 평균, 최악 모두 O(nlogn)
- 기수 정렬(Radix Sort, Bucket Sort): 큐를 활용해 자릿수 별로 정렬하는 방식, O(dn)

## 통합 구현

### XML

XML(eXtensible Markup Language): 특수한 목적을 갖는 마크업 언어를 만드는 데 사용되는 다목적 마크업 언어

### SOAP

SOAP(Simpe Object Access Protocol): 네트워크 상에서 HTTP, SMTP 등을 이용해 XML을 교환하기 위한 통신 규약

- 웹 서비스에서의 메시지의 형식과 처리 방법을 지정
- HTTP 기반에서 동작하기에 프록시와 방화벽의 영향 없이 통신할 수 있음
- 최근은 더 가벼운 REST(REpresentational State Transfer) 프로토콜을 이용하기도 함
  - 균일한 인터페이스, 클라이언트-서버 분리, 무상태, 캐시 가능성, 계층화된 시스템 아키텍처의 제약조건을 가짐

### WSDL

WSDL(Web SErvices Description Language): 웹 서비스와 관련된 서식이나 프로토콜 등을 표준적인 방법으로 기술하고 게시하기 위한 언어

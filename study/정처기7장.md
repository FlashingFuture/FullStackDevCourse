# 애플리케이션 테스트

## 애플리케이션 테스트

- 애플리케이션에 잠재되어 있는 결함을 찾아내는 일련의 행위 또는 절차

### 애플리케이션 테스트의 기본 원리

- 완벽한 테스트 불가능
- 파레토 법칙: 20%의 코드에서 80%의 오류가 발견됨
- 살충제 패러독스: 동일한 테스트 케이스로 동일한 테스트를 반복하면 결함은 더 발견되지 않음

## 애플리케이션 테스트 분류

### 실행 여부

- 정적 테스트: 프로그램을 실행하지 않고 명세서나 소스 코드를 대상으로 분석, 워크스루 / 인스펙션 / 코드 검사 등
- 동적 테스트: 프로그램을 실행하여 오류를 찾는 테스트, 블랙박스 테스트 / 화이트박스 테스트

### 시각에 따른 테스트

- 검증 테스트: 제품이 명세서대로 완성되었는지 개발자의 시각에서 테스트
- 확인 테스트: 사용자의 요구대로 제품이 완성되어 정상적으로 동작하는지 사용자의 시각에서 테스트

### 목적에 의한 테스트

- 회복 테스트, 안전 테스트, 강도 테스트, 성능 테스트, 구조 테스트, 회귀 테스트, 병행 테스트

### 화이트박스 테스트

- 원시 코드의 논리적인 모든 경로를 테스트하여 테스트 케이스를 설계하는 방법

#### 화이트박스 테스트의 종류

- 기초 경로 검사: 테스트 케이스 설계자가 절차 설계의 논리적 복잡성을 측정할 수 있게 함
- 제어 구조 검사: 조건 검사, 루프 검사, 데이터 흐름 검사로 나뉨

#### 검증 기준

- 분기 검증 기준: 모든 조건문에 대한 결과가 True인 경우와 False인 경우가 한 번 이상 수행되도록 테스트 케이스를 설계
- 조건 검증 기준: 조건문의 개별 조건식의 결과가 True인 경우와 False인 경우를 한 번 이상 수행되도록 테스트 케이스르 설계

### 블랙박스 테스트

- 각 기능이 완전히 작동하는 것을 입증하는 테스트

#### 블랙박스 테스트의 종류

- 동치 분할 검사: 타당한 입력 자료와 타당하지 못한 입력 자료를 균등히 하여 그에 맞는 결과가 출력되는지 확인
- 경계값 분석: 입력 조건의 경계값을 테스트 케이스로 선정하여 검사
- 원인-효과 그래프 검사: 입력 데이터 간 관계와 출력에 영향을 미치는 상황을 분석하여 효용이 높은 테스트 케이스를 선정

## 개발 단계에 따른 애플리케이션 테스트

- 개발 단계에 따라 단위, 통합, 시스템, 인수 테스트로 나뉨

### 단위 테스트

- 최소 단위인 모듈이나 컴포넌트에 맞춰 테스트
- 인터페이스, 외부 IO, 자료구조, 독립적 기초 경로, 오류 처리 경로, 경계 조건 검사

### 통합 테스트

- 단위 테스트과 완료된 모듈들을 결합해 하나의 시스템으로 완성시키는 과정

### 시스템 테스트

- 개발된 소프트웨어가 완벽하게 수행되는가를 점검하는 테스트

### 인수 테스트

- 개발된 소프트웨어가 사용자의 요구사항을 충족하는지에 중점을 두고 사용자가 직접 테스트
- 사용자 인수 테스트, 운영상의 인수 테스트, 계약 인수 테스트, 규정 인수 테스트, 알파 테스트, 베타 테스트로 나눠짐

## 통합 테스트

- 단위 테스트가 끝난 모듈을 통합하는 과정에서 발생하는 오류 및 결함을 찾는 테스트 기법

### 하향식 통합 테스트

- 프로그램 상위 모듈에서 하위 모듈 방향으로 통합하면서 테스트하는 기법
  - 스텁(Stub)이라는 시험용으로 필요한 조건을 가진 임시 모듈을 사용해 테스트하며, 하위 모듈을 하나씩 실제 모듈로 교체하면서 테스트

### 상향식 통합 테스트

- 프로그램 하위 모듈에서 상위 모듈 방향으로 통합하면서 테스트
  - 하위 모듈들을 클러스터라는 그룹으로 그룹화하여, 상위에 더미 모듈인 드라이버를 작성해 통합된 클러스터 단위로 테스트하며, 테스트 후 클러스터를 상위로 이동시키고 드라이버를 실제 모듈로 대체

## 테스트 오라클

- 테스트 오라클: 테스트 결과가 올바른지 판단하기 위해 사전에 정의된 참 값을 대입하여 비교하는 기법
- 제한된 검증, 수학적 기법, 자동화 가능의 특징을 지님

### 테스트 오라클의 종류

- 참(True) 오라클: 모든 테스트 케이스의 입력 값에 대해 기대하는 결과를 제공하는 오라클
- 샘플링 오라클: 특정한 몇몇 테스트 케이스의 입력 값들에 대해서만 기대하는 결과를 제공하는 오라클, 전수 테스트가 불가능한 경우 사용
- 추정(Heuristic) 오라클: 특정 테스트 케이스의 입력 값에 대해 기대하는 결과를 제공하고 나머지 입력 값들에 대해서는 추정으로 처리하는 오라클
- 일관성 검사(Consistent) 오라클: 애플리케이션의 변경이 있을 때 테스트 케이스의 수행 결과 값이 이전과 동일한지 확인하는 오라클

## 애플리케이션 성능

- 최소한의 자원을 사용하여 최대한 많은 기능을 신속하게 처리하는 정도

### 지표

- 처리량(Throughput): 일정 시간 내 애플리케이션이 처리하는 일의 양
- 응답 시간(Response Time): 애플리케이션에 요청을 전달한 시간부터 응답이 도착할 때까지 걸린 시간
- 경과 시간(Turn Around Time): 애플리케이션에 작업을 의뢰한 시간부터 처리가 완료될 때까지 걸린 시간
- 자원 사용률(Resource Usage): 애플리케이션이 의뢰한 작업을 처리하는 동안 CPU / 메모리 / 네트워크 등 자원 사용률

- 성능 테스트 도구: JMeter, LoadUI, OpenSTA 등
- 시스템 모니터링 도구: Scouter, Zabbix 등등

## 애플리케이션 성능 개선

### 소스 코드 최적화

- 나쁜 코드를 배제하고 클린 코드로 작성하는 것
- 클린 코드: 누구나 쉽게 이해하고 / 수정, 추가할 수 있는 / 단순명료한 코드
- 나쁜 코드: 로직이 복잡하고 이해하기 어려운 코드로, 스파게티 코드, 예시 코드 등

### 클린 코드 작성 원칙

- 가독성: 누구든지 코드를 쉽게 읽을 수 있도록 쉬운 용어, 들여쓰기 등을 사용하여 작성
- 단순성: 코드를 간단하게 작성, 한 번에 한 가지 등을 처리하도록 클래스 / 메소드 / 함수 등을 최소 단위로 분리
- 의존성 배제: 코드가 다른 모듈에 미치는 영향을 최소화하여 코드 변경 시 다른 부분에 영향이 없도록 작성
- 중복성 최소화: 코드의 중복을 최소화
- 추상화: 상위 클래스/메소드/함수 에서 간략하게 애플리케이션을 나타내고 상세 내용을 하위 클래스/메소드/함수 에서 구현

### 소스 코드 품질 분석 도구

#### 정적 분석 도구

- 코드를 실행하지 않고 코딩 표준이나 코딩 스타일, 결함 등을 확인하는 코드 분석 도구
- pmd, cppcheck, SonarQube, checkstyle, ccm, cobertura 등

#### 동적 분석 도구
- 코드를 실행해 코드에 존재하는 메모리 누수, 스레드 결함 등을 분석하는 도구
- Avalanche, Valgrind 등등